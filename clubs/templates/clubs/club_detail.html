{% extends 'clubs/base.html' %}

{% block title %}{{ club.name }} - MatchFeeMate{% endblock %}

{% block content %}
<!-- Club heading -->
<h1>{{ club.name }}</h1>

<!-- Club action buttons below title -->
<div class="mb-3">
    <a href="{% url 'club_update' pk=club.pk %}" class="btn btn-mfm-secondary btn-sm">Edit</a>
    <a href="{% url 'club_delete' pk=club.pk %}" class="btn btn-mfm-danger btn-sm">Delete</a>
</div>

<!-- Club info card -->
<div class="card card-mfm mb-4">
    <div class="card-body">
        <p class="mb-1"><strong>Home Ground:</strong> {{ club.home_ground|default:"Not set" }}</p>
        <p class="mb-1"><strong>Default Match Fee:</strong> Â£{{ club.default_match_fee }}</p>
        <p class="mb-0"><strong>Created by:</strong> {{ club.created_by.email }}</p>
    </div>
</div>

<!-- Opposition section -->
<div class="d-flex justify-content-between align-items-center mb-2">
    <h2>Opposition Teams</h2>
    <a href="{% url 'opposition_create' club_pk=club.pk %}" class="btn btn-mfm-primary btn-sm">Add</a>
</div>

{% if club.oppositions.all %}
    {% for opp in club.oppositions.all %}
    <div class="card card-mfm mb-2">
        <div class="card-body py-2 d-flex justify-content-between align-items-center">
            <span>{{ opp.name }}</span>
            <div>
                <a href="{% url 'opposition_update' pk=opp.pk %}" class="btn btn-mfm-secondary btn-sm">Edit</a>
                <a href="{% url 'opposition_delete' pk=opp.pk %}" class="btn btn-mfm-danger btn-sm">Delete</a>
            </div>
        </div>
    </div>
    {% endfor %}
{% else %}
    <p class="text-muted mb-4">No opposition teams yet.</p>
{% endif %}
{% endblock %}