{% extends 'clubs/base.html' %}

{% block title %}Update Availability - MatchFeeMate{% endblock %}

{% block content %}
<!-- Page heading -->
<h1>Update Availability</h1>
<h2>{{ match.club.name }} vs {{ match.opposition.name }} - {{ match.date }}</h2>

<form method="post">
    {% csrf_token %}
    
    <!-- Selected players list -->
    <h3>Selected Players</h3>
    {% for player in selected_players %}
    <div>
        <input type="checkbox" name="players" value="{{ player.pk }}" id="selected_{{ player.pk }}">
        <label for="selected_{{ player.pk }}">{{ player.name }}</label>
    </div>
    {% empty %}
    <p>No players selected yet.</p>
    {% endfor %}
    
    <!-- Other players list -->
    <h3>Other Players</h3>
    {% for player in other_players %}
    <div>
        <input type="checkbox" name="players" value="{{ player.pk }}" id="other_{{ player.pk }}">
        <label for="other_{{ player.pk }}">
            {{ player.name }} ({{ player.current_availability }})
        </label>
    </div>
    {% empty %}
    <p>No other players.</p>
    {% endfor %}
    
    <!-- Availability selector -->
    <h3>Set Availability To</h3>
    <select name="availability" required>
        <option value="yes">Available</option>
        <option value="no">Not Available</option>
        <option value="maybe">Maybe</option>
    </select>
    
    <br><br>
    <button type="submit">Update Selected</button>
</form>

<br>
<a href="{% url 'match_detail' pk=match.pk %}">Cancel</a>
{% endblock %}